/*****************************************************************************
*  项目名称  ： 看门狗
*    作者    ： 郑朋桥
*    时间    ： 2016/08/07
******************************************************************************/


/*****************************************************************************
*  添加头文件
******************************************************************************/
#include <ioCC2530.h>
#include "LED.h"
#include "WATCHDOG.h"

/*****************************************************************************
*函数含义：不精确延迟函数
*函数参数：延迟毫秒数
*  返回值：无返回值
*****************************************************************************/
void delayMS(int ms)
{
  int i,j;
  for(i = 0; i < ms; i++)
  {
    for(j = 0; j < 535; j++);
  }
}

void main()
{
  ledInit();
  initWatchdog(WATCHDOG_INTERVAL_1s,WATCHDOG_MODE_WATCHDOGMODE);
  while(1)
  {
    led1Toggle();
    delayMS(300);
    led2On();
    feetdog();  //进行喂狗，如果不喂狗，将进入重启操作。表现为。led2闪烁
  }
}
