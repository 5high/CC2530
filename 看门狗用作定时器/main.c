/*****************************************************************************
*  项目名称  ： 看门狗用作定时器
*    作者    ： 郑朋桥
*    时间    ： 2016/08/08
******************************************************************************/


/*****************************************************************************
*  添加头文件
******************************************************************************/
#include <ioCC2530.h>
#include "LED.h"
#include "WATCHDOG.h"

/*****************************************************************************
*函数含义：不精确延迟函数
*函数参数：延迟毫秒数
*  返回值：无返回值
*****************************************************************************/
void delayMS(int ms)
{
  int i,j;
  for(i = 0; i < ms; i++)
  {
    for(j = 0; j < 535; j++);
  }
}

void WDTfun()
{
  led2Toggle();
}

void main()
{
  ledInit();
  initWatchdog(WATCHDOG_INTERVAL_1s,WATCHDOG_MODE_TIMERMODE);
  setWDTFun(WDTfun);
  while(1)
  {
  }
}
